<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL-Shortner</title>
    <style>
        .table-body {
            border: 1px solid black;
            padding: 10px;
        }
    </style>
</head>
<body style="background-color: rgb(194, 144, 238);">
    <div style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
        <div style="margin: 10px;">
            <h1 style="background-color: rgb(211, 108, 156); padding: 20px; border-radius: 10px;">Url Shortner </h1>
            <%if(locals.id){%>
                <p style="background-color: rgb(213, 143, 67); padding: 20px;">Url Generated: => http://localhost:8001/url/<%=id %></p>
            <%}%>
        </div>
        <div style="margin: 10px; background-color: rgb(235, 161, 71); padding: 20px; border-radius: 10px;">
            <form  method="POST" action="/url">
                <label for="" >Input Your Original Url</label>
                <input type="text"  placeholder="https://example.com" name="url"/>
                <button type="submit" style="font-weight: 500; font-size: medium; background-color: blueviolet; color: white; border-radius: 15px;">Generate</button>
            </form>
        </div>
        <div style="margin: 10px;">
            <% if(locals.urls){ %>
               <table style="border: 2px solid rgb(181, 49, 57); border-radius: 15px; padding: 20px; background-color: rgb(227, 146, 108);">
                    <thead>
                        <tr>
                            <th>Sr.no</th>
                            <th>shortId</th>
                            <th>Redirect</th>
                            <th>Clicks</th>
                        </tr>
                    </thead>
                    <tbody class="table-body">
                        <% urls.forEach((url,index)=>{%>
                            <tr>
                                <td><%= index + 1 %></td>
                                <td><%= url.shortId %></td>
                                <td><%= url.redirectURL %></td>
                                <td><%= url.visitHistory.length %></td>
                            </tr>
                        
                        <%})%>
                        
                    </tbody>
               </table>
            <%}%>
        </div>
    </div>
</body>
</html>